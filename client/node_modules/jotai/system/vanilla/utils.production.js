System.register(["jotai/vanilla"],function(x){"use strict";var m;return{setters:[function(W){m=W.atom}],execute:function(){x({atomFamily:$,atomWithDefault:X,atomWithLazy:ft,atomWithObservable:et,atomWithReducer:_,atomWithRefresh:lt,atomWithReset:J,atomWithStorage:tt,createJSONStorage:z,freezeAtom:j,freezeAtomCreator:q,loadable:ot,selectAtom:K,splitAtom:U,unstable_withStorageValidator:Y,unwrap:ct});const W=x("RESET",Symbol(""));function J(t){const e=m(t,(i,u,c)=>{const a=typeof c=="function"?c(i(e)):c;u(e,a===W?t:a)});return e}function _(t,e){return m(t,function(i,u,c){u(this,e(i(this),c))})}function $(t,e){let i=null;const u=new Map,c=new Set,a=r=>{let s;if(e===void 0)s=u.get(r);else for(const[l,f]of u)if(e(l,r)){s=f;break}if(s!==void 0)if(i!=null&&i(s[1],r))a.remove(r);else return s[0];const o=t(r);return u.set(r,[o,Date.now()]),n("CREATE",r,o),o};function n(r,s,o){for(const l of c)l({type:r,param:s,atom:o})}return a.unstable_listen=r=>(c.add(r),()=>{c.delete(r)}),a.getParams=()=>u.keys(),a.remove=r=>{if(e===void 0){if(!u.has(r))return;const[s]=u.get(r);u.delete(r),n("REMOVE",r,s)}else for(const[s,[o]]of u)if(e(s,r)){u.delete(s),n("REMOVE",s,o);break}},a.setShouldRemove=r=>{if(i=r,!!i)for(const[s,[o,l]]of u)i(l,s)&&(u.delete(s),n("REMOVE",s,o))},a}const M=(t,e,i)=>(e.has(i)?e:e.set(i,t())).get(i),C=new WeakMap,F=(t,e,i,u)=>{const c=M(()=>new WeakMap,C,e),a=M(()=>new WeakMap,c,i);return M(t,a,u)};function K(t,e,i=Object.is){return F(()=>{const u=Symbol(),c=([n,r])=>{if(r===u)return e(n);const s=e(n,r);return i(r,s)?r:s},a=m(n=>{const r=n(a),s=n(t);return c([s,r])});return a.init=u,a},t,e,i)}const R=new WeakSet,L=t=>{if(typeof t!="object"||t===null)return;Object.freeze(t);const e=Object.getOwnPropertyNames(t);for(const i of e){const u=t[i];L(u)}return t};function j(t){if(R.has(t))return t;R.add(t);const e=t.read;if(t.read=function(i,u){return L(e.call(this,i,u))},"write"in t){const i=t.write;t.write=function(u,c,...a){return i.call(this,u,(...n)=>(n[0]===t&&(n[1]=L(n[1])),c(...n)),...a)}}return t}function q(t){return(...e)=>j(t(...e))}const A=(t,e,i)=>(e.has(i)?e:e.set(i,t())).get(i),B=new WeakMap,G=(t,e,i)=>{const u=A(()=>new WeakMap,B,e);return A(t,u,i)},H={},P=t=>!!t.write,Q=t=>typeof t=="function";function U(t,e){return G(()=>{const i=new WeakMap,u=(n,r)=>{let s=i.get(n);if(s)return s;const o=r&&i.get(r),l=[],f=[];return n.forEach((b,h)=>{const d=e?e(b):h;f[h]=d;const p=o&&o.atomList[o.keyList.indexOf(d)];if(p){l[h]=p;return}const O=g=>{const v=g(c),y=g(t),S=u(y,v==null?void 0:v.arr).keyList.indexOf(d);if(S<0||S>=y.length){const w=n[u(n).keyList.indexOf(d)];if(w)return w;throw new Error("splitAtom: index out of bounds for read")}return y[S]},E=(g,v,y)=>{const S=g(c),w=g(t),k=u(w,S==null?void 0:S.arr).keyList.indexOf(d);if(k<0||k>=w.length)throw new Error("splitAtom: index out of bounds for write");const N=Q(y)?y(w[k]):y;Object.is(w[k],N)||v(t,[...w.slice(0,k),N,...w.slice(k+1)])};l[h]=P(t)?m(O,E):m(O)}),o&&o.keyList.length===f.length&&o.keyList.every((b,h)=>b===f[h])?s=o:s={arr:n,atomList:l,keyList:f},i.set(n,s),s},c=m(n=>{const r=n(c),s=n(t);return u(s,r==null?void 0:r.arr)});c.init=void 0;const a=P(t)?m(n=>n(c).atomList,(n,r,s)=>{switch(s.type){case"remove":{const o=n(a).indexOf(s.atom);if(o>=0){const l=n(t);r(t,[...l.slice(0,o),...l.slice(o+1)])}break}case"insert":{const o=s.before?n(a).indexOf(s.before):n(a).length;if(o>=0){const l=n(t);r(t,[...l.slice(0,o),s.value,...l.slice(o)])}break}case"move":{const o=n(a).indexOf(s.atom),l=s.before?n(a).indexOf(s.before):n(a).length;if(o>=0&&l>=0){const f=n(t);o<l?r(t,[...f.slice(0,o),...f.slice(o+1,l),f[o],...f.slice(l)]):r(t,[...f.slice(0,l),f[o],...f.slice(l,o),...f.slice(o+1)])}break}}}):m(n=>n(c).atomList);return a},t,e||H)}function X(t){const e=Symbol(),i=m(e),u=m((c,a)=>{const n=c(i);return n!==e?n:t(c,a)},(c,a,n)=>{if(n===W)a(i,e);else if(typeof n=="function"){const r=c(u);a(i,n(r))}else a(i,n)});return u}const V=t=>typeof(t==null?void 0:t.then)=="function";function Y(t){return e=>({...e,getItem:(i,u)=>{const c=n=>t(n)?n:u,a=e.getItem(i,u);return V(a)?a.then(c):c(a)}})}function z(t=()=>{try{return window.localStorage}catch(i){return}},e){var i;let u,c;const a={getItem:(s,o)=>{var l,f;const b=d=>{if(d=d||"",u!==d){try{c=JSON.parse(d,e==null?void 0:e.reviver)}catch(p){return o}u=d}return c},h=(f=(l=t())==null?void 0:l.getItem(s))!=null?f:null;return V(h)?h.then(b):b(h)},setItem:(s,o)=>{var l;return(l=t())==null?void 0:l.setItem(s,JSON.stringify(o,e==null?void 0:e.replacer))},removeItem:s=>{var o;return(o=t())==null?void 0:o.removeItem(s)}},n=s=>(o,l,f)=>s(o,b=>{let h;try{h=JSON.parse(b||"")}catch(d){h=f}l(h)});let r;try{r=(i=t())==null?void 0:i.subscribe}catch(s){}return!r&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.Storage&&(r=(s,o)=>{if(!(t()instanceof window.Storage))return()=>{};const l=f=>{f.storageArea===t()&&f.key===s&&o(f.newValue)};return window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}}),r&&(a.subscribe=n(r)),a}const Z=z();function tt(t,e,i=Z,u){const c=u==null?void 0:u.getOnInit,a=m(c?i.getItem(t,e):e);return a.onMount=n=>{n(i.getItem(t,e));let r;return i.subscribe&&(r=i.subscribe(t,n,e)),r},m(n=>n(a),(n,r,s)=>{const o=typeof s=="function"?s(n(a)):s;return o===W?(r(a,e),i.removeItem(t)):o instanceof Promise?o.then(l=>(r(a,l),i.setItem(t,l))):(r(a,o),i.setItem(t,o))})}function et(t,e){const i=c=>{if("e"in c)throw c.e;return c.d},u=m(c=>{var a;let n=t(c);const r=(a=n[Symbol.observable])==null?void 0:a.call(n);r&&(n=r);let s;const o=()=>new Promise(v=>{s=v}),l=e&&"initialValue"in e?{d:typeof e.initialValue=="function"?e.initialValue():e.initialValue}:o();let f,b;const h=v=>{b=v,s==null||s(v),f==null||f(v)};let d,p;const O=()=>!f,E=()=>{d&&(clearTimeout(p),d.unsubscribe()),d=n.subscribe({next:v=>h({d:v}),error:v=>h({e:v}),complete:()=>{}}),O()&&e!=null&&e.unstable_timeout&&(p=setTimeout(()=>{d&&(d.unsubscribe(),d=void 0)},e.unstable_timeout))};E();const g=m(b||l);return g.onMount=v=>(f=v,b&&v(b),d?clearTimeout(p):E(),()=>{f=void 0,d&&(d.unsubscribe(),d=void 0)}),[g,n,o,E,O]});return m(c=>{const[a]=c(u),n=c(a);return n instanceof Promise?n.then(i):i(n)},(c,a,n)=>{const[r,s,o,l,f]=c(u);if("next"in s)f()&&(a(r,o()),l()),s.next(n);else throw new Error("observable is not subject")})}const I=new WeakMap,nt=(t,e)=>(I.has(e)?I:I.set(e,t())).get(e),rt=t=>t instanceof Promise,D={state:"loading"};function ot(t){return nt(()=>{const e=new WeakMap,i=m(0),u=m((c,{setSelf:a})=>{c(i);let n;try{n=c(t)}catch(l){return{state:"hasError",error:l}}if(!rt(n))return{state:"hasData",data:n};const r=n,s=e.get(r);return s||(r.status==="fulfilled"?e.set(r,{state:"hasData",data:r.value}):r.status==="rejected"?e.set(r,{state:"hasError",error:r.reason}):r.then(l=>{e.set(r,{state:"hasData",data:l})},l=>{e.set(r,{state:"hasError",error:l})}).finally(a),e.get(r)||(e.set(r,D),D))},(c,a)=>{a(i,n=>n+1)});return m(c=>c(u))},t)}const T=(t,e,i)=>(e.has(i)?e:e.set(i,t())).get(i),st=new WeakMap,it=(t,e,i)=>{const u=T(()=>new WeakMap,st,e);return T(t,u,i)},at=t=>t instanceof Promise,ut=()=>{};function ct(t,e=ut){return it(()=>{const i=new WeakMap,u=new WeakMap,c=m(0),a=m((n,{setSelf:r})=>{n(c);const s=n(a),o=n(t);if(!at(o))return{v:o};if(o!==(s==null?void 0:s.p)&&(o.status==="fulfilled"?u.set(o,o.value):o.status==="rejected"?i.set(o,o.reason):o.then(l=>u.set(o,l),l=>i.set(o,l)).finally(r)),i.has(o))throw i.get(o);return u.has(o)?{p:o,v:u.get(o)}:s&&"v"in s?{p:o,f:e(s.v),v:s.v}:{p:o,f:e()}},(n,r)=>{r(c,s=>s+1)});return a.init=void 0,m(n=>{const r=n(a);return"f"in r?r.f:r.v},(n,r,...s)=>r(t,...s))},t,e)}function lt(t,e){const i=m(0);return m((u,c)=>(u(i),t(u,c)),(u,c,...a)=>{if(a.length===0)c(i,n=>n+1);else if(e)return e(u,c,...a)})}function ft(t){const e=m(void 0);return delete e.init,Object.defineProperty(e,"init",{get(){return t()}}),e}}}});
