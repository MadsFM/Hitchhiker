System.register(["jotai/vanilla"],function(x){"use strict";var m;return{setters:[function(W){m=W.atom}],execute:function(){x({atomFamily:_,atomWithDefault:X,atomWithLazy:ft,atomWithObservable:et,atomWithReducer:J,atomWithRefresh:lt,atomWithReset:$,atomWithStorage:tt,createJSONStorage:z,freezeAtom:A,freezeAtomCreator:q,loadable:ot,selectAtom:K,splitAtom:U,unstable_withStorageValidator:Y,unwrap:ct});const W=x("RESET",Symbol(""));function $(t){const e=m(t,(i,u,c)=>{const a=typeof c=="function"?c(i(e)):c;u(e,a===W?t:a)});return e}function J(t,e){return m(t,function(i,u,c){u(this,e(i(this),c))})}function _(t,e){let i=null;const u=new Map,c=new Set,a=o=>{let r;if(e===void 0)r=u.get(o);else for(const[l,f]of u)if(e(l,o)){r=f;break}if(r!==void 0)if(i!=null&&i(r[1],o))a.remove(o);else return r[0];const s=t(o);return u.set(o,[s,Date.now()]),n("CREATE",o,s),s};function n(o,r,s){for(const l of c)l({type:o,param:r,atom:s})}return a.unstable_listen=o=>(c.add(o),()=>{c.delete(o)}),a.getParams=()=>u.keys(),a.remove=o=>{if(e===void 0){if(!u.has(o))return;const[r]=u.get(o);u.delete(o),n("REMOVE",o,r)}else for(const[r,[s]]of u)if(e(r,o)){u.delete(r),n("REMOVE",r,s);break}},a.setShouldRemove=o=>{if(i=o,!!i)for(const[r,[s,l]]of u)i(l,r)&&(u.delete(r),n("REMOVE",r,s))},a}const M=(t,e,i)=>(e.has(i)?e:e.set(i,t())).get(i),C=new WeakMap,F=(t,e,i,u)=>{const c=M(()=>new WeakMap,C,e),a=M(()=>new WeakMap,c,i);return M(t,a,u)};function K(t,e,i=Object.is){return F(()=>{const u=Symbol(),c=([n,o])=>{if(o===u)return e(n);const r=e(n,o);return i(o,r)?o:r},a=m(n=>{const o=n(a),r=n(t);return c([r,o])});return a.init=u,a},t,e,i)}const R=new WeakSet,L=t=>{if(typeof t!="object"||t===null)return;Object.freeze(t);const e=Object.getOwnPropertyNames(t);for(const i of e){const u=t[i];L(u)}return t};function A(t){if(R.has(t))return t;R.add(t);const e=t.read;if(t.read=function(i,u){return L(e.call(this,i,u))},"write"in t){const i=t.write;t.write=function(u,c,...a){return i.call(this,u,(...n)=>(n[0]===t&&(n[1]=L(n[1])),c(...n)),...a)}}return t}function q(t){return(...e)=>A(t(...e))}const P=(t,e,i)=>(e.has(i)?e:e.set(i,t())).get(i),B=new WeakMap,G=(t,e,i)=>{const u=P(()=>new WeakMap,B,e);return P(t,u,i)},H={},V=t=>!!t.write,Q=t=>typeof t=="function";function U(t,e){return G(()=>{const i=new WeakMap,u=(n,o)=>{let r=i.get(n);if(r)return r;const s=o&&i.get(o),l=[],f=[];return n.forEach((b,h)=>{const d=e?e(b):h;f[h]=d;const p=s&&s.atomList[s.keyList.indexOf(d)];if(p){l[h]=p;return}const O=g=>{const v=g(c),y=g(t),S=u(y,v==null?void 0:v.arr).keyList.indexOf(d);if(S<0||S>=y.length){const w=n[u(n).keyList.indexOf(d)];if(w)return w;throw new Error("splitAtom: index out of bounds for read")}return y[S]},E=(g,v,y)=>{const S=g(c),w=g(t),k=u(w,S==null?void 0:S.arr).keyList.indexOf(d);if(k<0||k>=w.length)throw new Error("splitAtom: index out of bounds for write");const N=Q(y)?y(w[k]):y;Object.is(w[k],N)||v(t,[...w.slice(0,k),N,...w.slice(k+1)])};l[h]=V(t)?m(O,E):m(O)}),s&&s.keyList.length===f.length&&s.keyList.every((b,h)=>b===f[h])?r=s:r={arr:n,atomList:l,keyList:f},i.set(n,r),r},c=m(n=>{const o=n(c),r=n(t);return u(r,o==null?void 0:o.arr)});c.init=void 0;const a=V(t)?m(n=>n(c).atomList,(n,o,r)=>{switch(r.type){case"remove":{const s=n(a).indexOf(r.atom);if(s>=0){const l=n(t);o(t,[...l.slice(0,s),...l.slice(s+1)])}break}case"insert":{const s=r.before?n(a).indexOf(r.before):n(a).length;if(s>=0){const l=n(t);o(t,[...l.slice(0,s),r.value,...l.slice(s)])}break}case"move":{const s=n(a).indexOf(r.atom),l=r.before?n(a).indexOf(r.before):n(a).length;if(s>=0&&l>=0){const f=n(t);s<l?o(t,[...f.slice(0,s),...f.slice(s+1,l),f[s],...f.slice(l)]):o(t,[...f.slice(0,l),f[s],...f.slice(l,s),...f.slice(s+1)])}break}}}):m(n=>n(c).atomList);return a},t,e||H)}function X(t){const e=Symbol(),i=m(e),u=m((c,a)=>{const n=c(i);return n!==e?n:t(c,a)},(c,a,n)=>{if(n===W)a(i,e);else if(typeof n=="function"){const o=c(u);a(i,n(o))}else a(i,n)});return u}const j=t=>typeof(t==null?void 0:t.then)=="function";function Y(t){return e=>({...e,getItem:(i,u)=>{const c=n=>t(n)?n:u,a=e.getItem(i,u);return j(a)?a.then(c):c(a)}})}function z(t=()=>{try{return window.localStorage}catch(i){return}},e){var i;let u,c;const a={getItem:(r,s)=>{var l,f;const b=d=>{if(d=d||"",u!==d){try{c=JSON.parse(d,e==null?void 0:e.reviver)}catch(p){return s}u=d}return c},h=(f=(l=t())==null?void 0:l.getItem(r))!=null?f:null;return j(h)?h.then(b):b(h)},setItem:(r,s)=>{var l;return(l=t())==null?void 0:l.setItem(r,JSON.stringify(s,e==null?void 0:e.replacer))},removeItem:r=>{var s;return(s=t())==null?void 0:s.removeItem(r)}},n=r=>(s,l,f)=>r(s,b=>{let h;try{h=JSON.parse(b||"")}catch(d){h=f}l(h)});let o;try{o=(i=t())==null?void 0:i.subscribe}catch(r){}return!o&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.Storage&&(o=(r,s)=>{if(!(t()instanceof window.Storage))return()=>{};const l=f=>{f.storageArea===t()&&f.key===r&&s(f.newValue)};return window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}}),o&&(a.subscribe=n(o)),a}const Z=z();function tt(t,e,i=Z,u){const c=u==null?void 0:u.getOnInit,a=m(c?i.getItem(t,e):e);return a.onMount=n=>{n(i.getItem(t,e));let o;return i.subscribe&&(o=i.subscribe(t,n,e)),o},m(n=>n(a),(n,o,r)=>{const s=typeof r=="function"?r(n(a)):r;return s===W?(o(a,e),i.removeItem(t)):s instanceof Promise?s.then(l=>(o(a,l),i.setItem(t,l))):(o(a,s),i.setItem(t,s))})}function et(t,e){const i=c=>{if("e"in c)throw c.e;return c.d},u=m(c=>{var a;let n=t(c);const o=(a=n[Symbol.observable])==null?void 0:a.call(n);o&&(n=o);let r;const s=()=>new Promise(v=>{r=v}),l=e&&"initialValue"in e?{d:typeof e.initialValue=="function"?e.initialValue():e.initialValue}:s();let f,b;const h=v=>{b=v,r==null||r(v),f==null||f(v)};let d,p;const O=()=>!f,E=()=>{d&&(clearTimeout(p),d.unsubscribe()),d=n.subscribe({next:v=>h({d:v}),error:v=>h({e:v}),complete:()=>{}}),O()&&e!=null&&e.unstable_timeout&&(p=setTimeout(()=>{d&&(d.unsubscribe(),d=void 0)},e.unstable_timeout))};E();const g=m(b||l);return g.onMount=v=>(f=v,b&&v(b),d?clearTimeout(p):E(),()=>{f=void 0,d&&(d.unsubscribe(),d=void 0)}),[g,n,s,E,O]});return m(c=>{const[a]=c(u),n=c(a);return n instanceof Promise?n.then(i):i(n)},(c,a,n)=>{const[o,r,s,l,f]=c(u);if("next"in r)f()&&(a(o,s()),l()),r.next(n);else throw new Error("observable is not subject")})}const I=new WeakMap,nt=(t,e)=>(I.has(e)?I:I.set(e,t())).get(e),rt=t=>t instanceof Promise,T={state:"loading"};function ot(t){return nt(()=>{const e=new WeakMap,i=m(0),u=m((c,{setSelf:a})=>{c(i);let n;try{n=c(t)}catch(l){return{state:"hasError",error:l}}if(!rt(n))return{state:"hasData",data:n};const o=n,r=e.get(o);return r||(o.then(l=>{e.set(o,{state:"hasData",data:l})},l=>{e.set(o,{state:"hasError",error:l})}).finally(a),e.get(o)||(e.set(o,T),T))},(c,a)=>{a(i,n=>n+1)});return m(c=>c(u))},t)}const D=(t,e,i)=>(e.has(i)?e:e.set(i,t())).get(i),it=new WeakMap,st=(t,e,i)=>{const u=D(()=>new WeakMap,it,e);return D(t,u,i)},at=t=>t instanceof Promise,ut=()=>{};function ct(t,e=ut){return st(()=>{const i=new WeakMap,u=new WeakMap,c=m(0),a=m((n,{setSelf:o})=>{n(c);const r=n(a),s=n(t);if(!at(s))return{v:s};if(s!==(r==null?void 0:r.p)&&s.then(l=>u.set(s,l),l=>i.set(s,l)).finally(o),i.has(s))throw i.get(s);return u.has(s)?{p:s,v:u.get(s)}:r&&"v"in r?{p:s,f:e(r.v),v:r.v}:{p:s,f:e()}},(n,o)=>{o(c,r=>r+1)});return a.init=void 0,m(n=>{const o=n(a);return"f"in o?o.f:o.v},(n,o,...r)=>o(t,...r))},t,e)}function lt(t,e){const i=m(0);return m((u,c)=>(u(i),t(u,c)),(u,c,...a)=>{if(a.length===0)c(i,n=>n+1);else if(e)return e(u,c,...a)})}function ft(t){const e=m(void 0);return delete e.init,Object.defineProperty(e,"init",{get(){return t()}}),e}}}});
